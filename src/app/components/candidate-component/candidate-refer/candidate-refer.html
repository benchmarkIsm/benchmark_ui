<div fxFlex fxLayout="column" fxLayoutGap="100px">
    <form [formGroup]="referenceForm">
        <br>
        &nbsp;&nbsp;&nbsp;
        <mat-label>Refer Candidate</mat-label>
        <mat-divider></mat-divider>
        <br>
        &nbsp;&nbsp;&nbsp;
        <mat-form-field>
            <mat-label>Company</mat-label>
            <mat-select placeholder="Company" formControlName="company" (selectionChange)="onCompanyChange($event)"
                required>
                @for (element of company; track element){
                <mat-option [value]="element.compCode">
                    {{element.compName}}
                </mat-option>
                }
            </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;
        <mat-form-field>
            <mat-label>Job</mat-label>
            <mat-select placeholder="Jobs" formControlName="job" required>
                @for (element of jobDescription; track element){
                <mat-option [value]="element.jdId">
                    {{element.jobPositionTitle}}
                </mat-option>
                }
            </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;
        <mat-form-field>
            <mat-label>Status</mat-label>
            <mat-select placeholder="Status" formControlName="status" required>
                @for (element of status; track element){
                <mat-option [value]="element.statusName">
                    {{element.statusName}}
                </mat-option>
                }
            </mat-select>
        </mat-form-field>
        &nbsp;&nbsp;&nbsp;
        <button mat-raised-button color="primary" class="select-button" [disabled]="btnReferDisabled"
            (click)="submitReference()">
            Refer
        </button>
        <br>
        &nbsp;&nbsp;&nbsp;
        <mat-label>Refer Details</mat-label>
        <mat-divider></mat-divider>
        <br>
        &nbsp;&nbsp;&nbsp;

    </form>

    @if(candidateReferanceinfo.length){

    <table mat-table [dataSource]="candidateReferanceinfo" class="mat-elevation-z8">

        <ng-container matColumnDef="compName">
            <th mat-header-cell *matHeaderCellDef>Company</th>
            <td mat-cell *matCellDef="let ref">{{ ref.compName }}</td>
        </ng-container>

        <ng-container matColumnDef="jobDescription">
            <th mat-header-cell *matHeaderCellDef>Job Description</th>
            <td mat-cell *matCellDef="let ref">{{ ref.jobDescription }}</td>
        </ng-container>

        <ng-container matColumnDef="candidateStatus">
            <th mat-header-cell *matHeaderCellDef>Candidate Status</th>
            <td mat-cell *matCellDef="let ref">{{ ref.candidateStatus }}</td>
        </ng-container>

        <ng-container matColumnDef="companyStatus">
            <th mat-header-cell *matHeaderCellDef>Company Status</th>
            <td mat-cell *matCellDef="let ref">{{ ref.companyStatus }}</td>
        </ng-container>

        <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef></th>
            <td mat-cell *matCellDef="let ref">
                <button mat-icon-button color="primary" aria-label="Edit" (click)="editReference(ref)">
                    <mat-icon svgIcon="edit_icon"></mat-icon>
                </button>
                <button mat-icon-button color="warn" aria-label="Delete" (click)="deleteReference(ref)">
                    <mat-icon>delete</mat-icon>
                </button>
            </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="referenceTableColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: referenceTableColumns;"></tr>

    </table>

    }
</div>